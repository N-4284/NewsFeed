

<main class="container topics">

    
    <% if @recent_posts.present? %>
        <%= render partial: 'largeArticle', locals: { articles: @recent_posts, section_title: 'Recent News' } %>
        <%= render partial: 'smallArticle', locals: { articles: @secondary_posts, section_title: 'Other News' } %>        
    <%end%>

    <% @categories_with_posts.each do |category| %>
        <%= render partial: 'smallArticle', locals: { articles: category.post.limit(2), section_title: category.title } %>
    <% end %> 

    <% @locations_with_posts.each do |location| %>
        <%= render partial: 'smallArticle', locals: { articles: location.post.limit(2), section_title: location.title } %>
    <% end %>             
       
    
</main>    